@page "/view/confirm"
@model Asharea_viewer.Pages.view.comfirmModel
@{
    ViewData["Title"] = "Confirm";
}

@section NavTop {
    <div id="nav-top" class="text-center">
        <div class="btn-icon-1 my-auto btn" onclick="stepToPrev('test_case')">
            <i class="fa fa-chevron-left"></i>
        </div>
        <div class="btn-box btn">
            <i class="fa fa-plus-circle"></i>
            Select
        </div>
        <div class="btn-box btn active">
            <i class="fa fa-edit"></i>
            Test Case
        </div>
        <div class="btn-box btn">
            <i class="fa fa-file-text-o"></i>
            Test Report
        </div>
        <div class="btn-box btn">
            <i class="fa fa-certificate"></i>
            Certification
        </div>
        <div class="btn-icon-1 my-auto btn btn-box" onclick="closeVerification()">
            <i class="fa fa-times-circle"></i>
        </div>
    </div>
}
<div>
    <div class="w-100 main-container">
        <div class="main-side-bar">
            <div style="margin: 10rem 40px;">
                <div style="padding-top: 40%;">
                    <button class="btn btn-primary btn-block" type="button" id="generate_report_btn">
                        Confrim Upload
                    </button>
                    <button class="btn btn-secondary btn-block" type="button" id="reupload_file_btn">
                        ReUpload
                    </button>
                </div>
            </div>
        </div>
        <div class="main-content">
            <main id="container" class="">

            </main>
        </div>
    </div>
</div>

<nav id="navMenu" style="top: 55px">

    <header>

        <div id="divHeader">


        </div>

    </header>

    <details open>

        <summary>File Open</summary>

        <div id="divFileOpen" class="dragDropArea"></div>

    </details>

    <details>

        <summary title="Update what you see in the display">Settings</summary>

        <div id="divSettings"></div>

    </details>

    <details ontoggle=divRendererInfo.innerHTML =THRU.getRendererInfo();>
        <!-- not essential -->

        <summary title="Info on what Three.js is animating">Renderer Info</summary>

        <div id="divRendererInfo"></div>

    </details>

    <details ontoggle=divSceneInfo.innerHTML =THRU.getSceneInfo();>
        <!-- not essential -->

        <summary title="Info on what is in the Three.js scene">Scene Info</summary>

        <div id="divSceneInfo"></div>

    </details>

    <div id="divFileInfo"></div>

</nav>

<nav>
    <button id="butHamburger" onclick=MNU.toggleNavLeft(); title="click to hide this menu" style="top: 55px;"> slide &#9776;</button>
</nav>

<div id="divPopUp" style="top: 55px;">

    <div id="divPopUpData"></div>

    <div id="divMessage"></div>

</div>
<!-- Modal template -->
<div class="modal fade" id="upload-modal">
    <div class="modal-dialog modal-lg">
        <form class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title mx-auto text-center">
                    <i class="lnr lnr-laptop d-block font-weight-light" style="font-size: 50px;"></i>
                    Upload test case
                </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">×</button>
            </div>
            <div class="modal-body">
                <div class="card mb-4">
                    <div class="card-body">
                        <form action="files" class="dropzone needsclick" id="dropzone-demo-1">
                            <div class="dz-message needsclick">
                                Drop files here or click to upload
                                @*<span class="note needsclick">
                                        (This is just a demo dropzone. Selected files are
                                        <strong>not</strong> actually uploaded.)
                                    </span>*@
                            </div>
                            @*<div class="fallback">
                                    <input name="file" type="file" multiple>
                                </div>*@
                        </form>
                    </div>
                </div>
                <div style="text-align:right">
                    @*<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>*@
                    <button type="button" class="btn btn-primary" id="upload-file">Upload</button>
                </div>
            </div>

        </form>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/gh/mrdoob/three.js@r105/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/mrdoob/three.js@r105/examples/js/controls/OrbitControls.js"></script>
<script src="~/lib/spider_lib/r7/mnu-menu.js"></script>
<script src="~/lib/spider_lib/r7/thr-threejs.js"></script>
<script src="~/lib/spider_lib/r7/thru-threejs-utilities.js"></script>
<script src="~/lib/spider_lib/r7/gbx-gbxml-loader.js"></script>
<script src="~/lib/spider_lib/r7/fil-open-file-gbxml.js"></script>
<script src="~/lib/spider_lib/r7/pop-up-gbxml.js"></script>
<script src="~/lib/spider_lib/r7/gal-sample-files-gallery-gbxml.js"></script>
<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="~/js/site.js" asp-append-version="true"></script>
<script>
    MNU.urlSourceCode = "https://github.com/ladybug-tools/spider-gbxml-tools/tree/master/gbxml-viewer-basic/";

    FIL.divFileInfo = divFileInfo;


    init();
    THR.animate();


    function init() {

        divFileOpen.innerHTML = FIL.getFileOpen(); // if needed: set file info target

        divSettings.innerHTML = THRU.getSettings();


        THR.getThreejs();

        THRU.setHelpers();

        THRU.addSomeLights();

        divPopUpData.innerHTML = POP.getMenuHtmlPopUp();

    }

    $(function () {
        $("#generate_report_btn").click(function () {
            window.location = "/view/test_report";
        });
    })

    $("#reupload_file_btn").click(function () {
        $("#upload-modal").modal('toggle');
    });
    $('#upload-file').click(function () {
        window.location = '/view/confirm';
    })
</script>